## Прогноз KPI по контактам
    
> ## Термины и пояснения
> - EDA - Exploratory Data Analysis - исследовательский анализ данных
> - Файл requirements.txt - содержит перечень всех библиотек и их версий, необходимых для работы проекта. Этот файл используется для удобного управления зависимостями через менеджер пакетов pip в Python. 
> - Для данного проекта использовалась версия Python 3.11.5.
> - Папка myenv (виртуальное окружение) - содержит виртуальное окружение Python, которое позволяет изолировать зависимости проекта от глобальных библиотек системы. Это обеспечивает единообразие разработки и предотвращает возможные конфликты между версиями библиотек разных проектов.

### 1. Запуск проекта
#### 1.1 Предварительные условия
- Убедитесь, что на вашем компьютере установлен Python версии 3.11.5. Вы можете проверить версию Python, введя в терминале команду:
python3 --version. Если Python не установлен или требуется другая версия, посетите [официальный сайт Python](https://www.python.org/downloads/) для скачивания и установки нужной версии.
- Для изоляции зависимостей проекта от системных библиотек рекомендуется использовать виртуальное окружение. В терминале выполните следующие команды:
`python3 -m venv venv
source venv/bin/activate  # Для Unix/Linux
.\venv\Scripts\activate # Для Windows`

#### 1.2 Установка зависимостей
- Установите необходимые библиотеки, перечисленные в файле requirements.txt, используя менеджер пакетов pip:
pip install -r requirements.txt.

#### 1.3 Запуск проекта
- Вы можете запустить Jupyter notebooks (prophet_forecast.ipynb, linear_regression_forecast.ipynb, decision_tree_forecast.ipynb) через Jupyter Notebook или JupyterLab, введя в терминале: jupyter notebook, jupyter lab.

#### 1.4 Работа с данными 
- Данные для обучения моделей находятся в папке Data/data.csv. Если у вас нет доступа к BigQuery, убедитесь, что ваши скрипты и notebooks настроены на чтение данных из этого файла.

#### 1.5 Дополнительные инструкции
- Деактивация виртуального окружения: После завершения работы над проектом, вы можете деактивировать виртуальное окружение, выполнив команду: deactivate.
- Работа с BigQuery: Убедитесь в наличии соответствующих прав доступа и настройте авторизацию согласно [документации Google Cloud](https://cloud.google.com/bigquery/docs/authentication).

### 2. Цели и предпосылки 
#### 2.1. Зачем идем в разработку продукта?  

- Бизнес-цель: Максимизация эффективности работы команды проекта на основе прогноза взаимодействий пользователей с объявлениями автомобилей.
- Почему станет лучше: Применение методов машинного обучения для прогнозирования KPI по контактам позволит более точно определить будущую активность пользователей на платформе и выстраивать адекватный KPI для команды.


#### 2.2. Бизнес-требования и ограничения  

- Краткое описание БТ: Прогнозирование ежедневной активности пользователей на платформе классифайд авто на 2023 год.
- Бизнес-ограничения: Прогноз должен быть предоставлен не позднее конца 2022 года для планирования KPI на 2023 год.
- Что ожидаем от итерации: Разработку и валидацию модели, способной предсказывать активность пользователей с приемлемой точностью.
- Описание бизнес-процесса: Модель будет использоваться для планирования KPI.
- Критерии успеха: Модель с точностью прогноза MSE, MAE, MAPE <= 5% на тестовом наборе данных.

#### 2.3. Что входит в скоуп проекта/итерации, что не входит
 На закрытие каких БТ подписываемся: Разработка прототипа модели прогнозирования.
- Что не будет закрыто: Интеграция модели в продуктовую среду (предполагается в следующих итерациях).
- Описание результата: Модель с документацией и инструкцией по использованию.
- Технический долг: Оптимизация скорости выполнения и уменьшение ресурсоемкости. 

#### 2.4. Предпосылки решения  

- Используемые данные: Исторические данные о контактах за 2020-2022 годы, праздничные и выходные дни, возможно, данные об эпидимиологической ситуации.
- Горизонт прогноза: 1 год.
- Гранулярность модели: По дням.

### 3. Методология    
#### 3.1. Постановка задачи  
- Что делаем: Разработка модели временных рядов для прогнозирования ежедневной активности пользователей на платформе.

#### 3.2. Блок-схема решения  
- Основные этапы включают сбор данных, предварительную обработку, разведочный анализ данных (EDA), разработку модели на основе Prophet/Linear Regression/Decision Tree, валидацию и тестирование модели, а также подготовку отчета и инструкций для внедрения.  

#### 3.3. Этапы решения задачи
> - Этап 1 - Сборка и подготовка данных: исторические данные по дням о количестве контактов с объявлениями, данные о праздниках, выходных днях и, возможно, погодные условия или экономические индикаторы. Результат: подготовленный набор данных для обучения и тестирования модели.
> - Этап 2 - Разведочный анализ данных (EDA): понимание основных тенденций, выявление аномалий, понимание связей между данными. Результат: Отчет с основными выводами, который поможет в построении модели. 
> - Этап 3 - Построение прогнозной модели: использование библиотеки Prophet для моделирования временных рядов. Результат: Настроенная и обученная модель прогнозирования.
> - Этап 4 - Валидация и тестирование модели: MAPE, MAE, MSE для оценки точности модели. Результат: Отчет о производительности модели с описанием достигнутых метрик на валидационной и тестовой выборках.
> - Этап 5 - Документация: Описание процесса разработки, инструкции по использованию модели, требования к данным. Результат: Полный комплект документации для передачи стейкхолдерам и командам, ответственным за внедрение.  
  
### 4. Подготовка пилота  
  
#### 4.1. Способ оценки пилота  
  
- Дизайн: Сравнение производительности модели с историческими данными и с базовой моделью.
  
#### 4.2. Что считаем успешным пилотом  
  
Метрики: Достижение или превышение заранее определенных целевых показателей точности прогноза. MAPE <= 5.
